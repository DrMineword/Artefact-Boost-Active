<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Big API</title>
    <script>
        // Utility function to parse URL parameters
        function getUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            let params = {};
            for (const [key, value] of urlParams.entries()) {
                params[key] = value;
            }
            return params;
        }

        // Helper function to simulate data
        function simulateApiResponse() {
            const randomJokes = [
                "Why don't skeletons fight each other? They don't have the guts!",
                "Why did the tomato turn red? Because it saw the salad dressing!",
                "Why donâ€™t programmers like nature? It has too many bugs!"
            ];
            return randomJokes[Math.floor(Math.random() * randomJokes.length)];
        }

        // Function to generate a random number
        function generateRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Main mock API function
        function mockApi() {
            const params = getUrlParams();
            let response = { success: true };

            if (params.endpoint === 'greet') {
                const name = params.name || "Stranger";
                response = {
                    success: true,
                    message: `Hello, ${name}! Welcome to the Big API.`
                };
            } else if (params.endpoint === 'random') {
                const min = parseInt(params.min) || 1;
                const max = parseInt(params.max) || 100;
                response = {
                    success: true,
                    random_number: generateRandomNumber(min, max)
                };
            } else if (params.endpoint === 'joke') {
                response = {
                    success: true,
                    joke: simulateApiResponse()
                };
            } else if (params.endpoint === 'math') {
                const num1 = parseInt(params.num1) || 10;
                const num2 = parseInt(params.num2) || 5;
                response = {
                    success: true,
                    sum: num1 + num2,
                    difference: num1 - num2,
                    product: num1 * num2,
                    quotient: num1 / num2
                };
            } else {
                response = {
                    success: false,
                    message: "Unknown endpoint. Try '/greet', '/random', or '/joke'."
                };
            }

            return response;
        }

        // Format the response in JSON and display it on the page
        window.onload = function() {
            const response = mockApi();
            document.body.textContent = JSON.stringify(response, null, 2);
        }
    </script>
</head>
<body>
</body>
</html>
