<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Script Loader</title>
</head>
<body>
    <script>
        const scriptUrl = "https://raw.githubusercontent.com/DrMineword/Artefact-Boost-Active/refs/heads/main/wallpaper.js"; // Raw JavaScript file URL

        // Function to fetch and execute the script
        async function fetchAndExecuteScript() {
            try {
                // Add a unique query parameter to the URL to bypass the cache
                const cacheBustedUrl = `${scriptUrl}?t=${new Date().getTime()}`;

                // Fetch the raw JavaScript File with the cache-busted URL
                const response = await fetch(cacheBustedUrl, { cache: "no-store" });
                if (!response.ok) {
                    throw new Error("Failed to fetch the script.");
                }

                // Get the JavaScript code from the response
                const scriptContent = await response.text();

                // Check for changes by storing the script's hash in localStorage
                const currentScriptHash = localStorage.getItem("currentScriptHash");
                const newScriptHash = btoa(scriptContent);

                // Only run the script if it has changed
                if (newScriptHash !== currentScriptHash) {
                    // Store the new hash to track future changes
                    localStorage.setItem("currentScriptHash", newScriptHash);

                    // Dynamically create and execute the new script
                    const scriptElement = document.createElement("script");
                    scriptElement.textContent = scriptContent;
                    document.body.appendChild(scriptElement);

                    console.log("New script loaded and executed.");
                } else {
                    console.log("Script is up to date. No changes detected.");
                    const scriptElement = document.createElement("script");
                    scriptElement.textContent = scriptContent;
                    document.body.appendChild(scriptElement);
                }

            } catch (error) {
                console.error("Error fetching or executing the script:", error);
            }
        }

        // Initial script load
        fetchAndExecuteScript();

        // Reload and execute the script every 30 minutes (1800000 ms)
        setInterval(fetchAndExecuteScript, 60000); // 1 minute for testing, change to 1800000 for 30 minutes
    </script>
</body>
</html>
